{"version":3,"sources":["components/style.js","components/map/index.js","apis/index.js","components/App.js","index.js"],"names":["GlobalStyle","createGlobalStyle","Map","props","fetchPoints","a","axios","get","res","setState","points","data","features","state","greenIcon","L","icon","iconUrl","shadowUrl","iconSize","iconAnchor","popupAnchor","shadowSize","redIcon","this","masks","id","MapContainer","center","zoom","scrollWheelZoom","TileLayer","attribution","url","map","point","Marker","position","geometry","coordinates","reverse","renderIcon","properties","mask_adult","Popup","name","address","mask_child","React","Component","App","ReactDOM","render","document","querySelector"],"mappings":"sOAEaA,EAAcC,YAAH,uN,0HC8FTC,E,kDAvFd,WAAYC,GAAQ,IAAD,8BAClB,cAAMA,IA8BPC,YA/BmB,sBA+BL,4BAAAC,EAAA,sEACKC,IAAMC,ICxCzB,8EDuCc,OACPC,EADO,OAEb,EAAKC,SAAS,CACbC,OAAQF,EAAIG,KAAKC,WAHL,2CA7Bb,EAAKC,MAAQ,CACZH,OAAQ,GACRI,UAAWC,IAAEC,KAAK,CACjBC,QACC,sGACDC,UACC,gFACDC,SAAU,CAAC,GAAI,IACfC,WAAY,CAAC,GAAI,IACjBC,YAAa,CAAC,GAAI,IAClBC,WAAY,CAAC,GAAI,MAElBC,QAASR,IAAEC,KAAK,CACfC,QACC,oGACDC,UACC,gFACDC,SAAU,CAAC,GAAI,IACfC,WAAY,CAAC,GAAI,IACjBC,YAAa,CAAC,GAAI,IAClBC,WAAY,CAAC,GAAI,OAtBD,E,qDA2BnB,WACCE,KAAKpB,gB,wBAUN,SAAWqB,GACV,OAAc,IAAVA,EACID,KAAKX,MAAMU,QAEXC,KAAKX,MAAMC,Y,oBAIpB,WAAU,IAAD,OACR,OACC,qBAAKY,GAAG,MAAR,SACC,eAACC,EAAA,EAAD,CACCC,OAAQ,CAAC,kBAAmB,oBAC5BC,KAAM,EACNC,iBAAiB,EAHlB,UAKC,cAACC,EAAA,EAAD,CACCC,YAAY,yEACZC,IAAI,uDAEL,cAAC,IAAD,UACET,KAAKX,MAAMH,OAAOwB,KAAI,SAACC,GACvB,OACC,cAACC,EAAA,EAAD,CAECC,SAAUF,EAAMG,SAASC,YAAYC,UACrCxB,KAAM,EAAKyB,WACVN,EAAMO,WAAWC,YAJnB,SAOC,eAACC,EAAA,EAAD,gCACKT,EAAMO,WAAWG,KACrB,uBAFD,qBAGKV,EAAMO,WAAWI,QACrB,uBAJD,iCAKOX,EAAMO,WAAWC,WACvB,uBAND,iCAOOR,EAAMO,WAAWK,eAbnBZ,EAAMO,WAAWhB,kB,GA/DbsB,IAAMC,WEOTC,E,4JAVd,WACC,OACC,eAAC,WAAD,WACC,cAAClD,EAAD,IACA,cAAC,EAAD,W,GALcgD,IAAMC,WCAxBE,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,cAAc,Y","file":"static/js/main.2c0896fe.chunk.js","sourcesContent":["import { createGlobalStyle } from 'styled-components';\r\n\r\nexport const GlobalStyle = createGlobalStyle`\r\n\t* {\r\n\t\tbox-sizing: border-box;\r\n\t\tmargin: 0;\r\n\t\tpadding: 0;\r\n\t\tcolor: rgba(0, 0, 0, 0.75);\r\n\t\tfont-family: 'Roboto';\r\n\t\tlist-style: none;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n`;\r\n","import React from 'react';\r\nimport axios from 'axios';\r\nimport L from 'leaflet';\r\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet';\r\nimport MarkerClusterGroup from 'react-leaflet-markercluster';\r\nimport { URL } from '../../apis';\r\nimport './style.css';\r\n\r\nclass Map extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tpoints: [],\r\n\t\t\tgreenIcon: L.icon({\r\n\t\t\t\ticonUrl:\r\n\t\t\t\t\t'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png',\r\n\t\t\t\tshadowUrl:\r\n\t\t\t\t\t'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',\r\n\t\t\t\ticonSize: [25, 41],\r\n\t\t\t\ticonAnchor: [12, 41],\r\n\t\t\t\tpopupAnchor: [1, -34],\r\n\t\t\t\tshadowSize: [41, 41],\r\n\t\t\t}),\r\n\t\t\tredIcon: L.icon({\r\n\t\t\t\ticonUrl:\r\n\t\t\t\t\t'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png',\r\n\t\t\t\tshadowUrl:\r\n\t\t\t\t\t'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',\r\n\t\t\t\ticonSize: [25, 41],\r\n\t\t\t\ticonAnchor: [12, 41],\r\n\t\t\t\tpopupAnchor: [1, -34],\r\n\t\t\t\tshadowSize: [41, 41],\r\n\t\t\t}),\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.fetchPoints();\r\n\t}\r\n\r\n\tfetchPoints = async () => {\r\n\t\tconst res = await axios.get(URL);\r\n\t\tthis.setState({\r\n\t\t\tpoints: res.data.features,\r\n\t\t});\r\n\t};\r\n\r\n\trenderIcon(masks) {\r\n\t\tif (masks === 0) {\r\n\t\t\treturn this.state.redIcon;\r\n\t\t} else {\r\n\t\t\treturn this.state.greenIcon;\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div id=\"map\">\r\n\t\t\t\t<MapContainer\r\n\t\t\t\t\tcenter={[23.79037129915711, 120.95281938174952]}\r\n\t\t\t\t\tzoom={8}\r\n\t\t\t\t\tscrollWheelZoom={true}\r\n\t\t\t\t>\r\n\t\t\t\t\t<TileLayer\r\n\t\t\t\t\t\tattribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n\t\t\t\t\t\turl=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<MarkerClusterGroup>\r\n\t\t\t\t\t\t{this.state.points.map((point) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Marker\r\n\t\t\t\t\t\t\t\t\tkey={point.properties.id}\r\n\t\t\t\t\t\t\t\t\tposition={point.geometry.coordinates.reverse()}\r\n\t\t\t\t\t\t\t\t\ticon={this.renderIcon(\r\n\t\t\t\t\t\t\t\t\t\tpoint.properties.mask_adult\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Popup>\r\n\t\t\t\t\t\t\t\t\t\t藥局：{point.properties.name}\r\n\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t地址：{point.properties.address}\r\n\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t大人口罩：{point.properties.mask_adult}\r\n\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t小孩口罩：{point.properties.mask_child}\r\n\t\t\t\t\t\t\t\t\t</Popup>\r\n\t\t\t\t\t\t\t\t</Marker>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</MarkerClusterGroup>\r\n\t\t\t\t</MapContainer>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Map;\r\n","export const URL =\r\n\t'https://raw.githubusercontent.com/kiang/pharmacies/master/json/points.json';","import React, { Fragment } from 'react';\r\nimport { GlobalStyle } from './style';\r\nimport Map from './map';\r\n\r\nclass App extends React.Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<GlobalStyle />\r\n\t\t\t\t<Map />\r\n\t\t\t</Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(<App />, document.querySelector('#root'));\r\n"],"sourceRoot":""}